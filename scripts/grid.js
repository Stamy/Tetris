"use strict";!function(r){function t(r,t){this.columns=r||20,this.rows=t||20,this.grid=[]}t.prototype.generate=function(){for(var r=0;r<this.rows;r++){this.grid[r]=[];for(var t=0;t<this.columns;t++)this.grid[r][t]=0}return this},t.prototype.get=function(){return JSON.parse(JSON.stringify(this.grid))},t.prototype.render=function(r){var r=r||this.grid,t="";r.forEach(function(r){t+="*",r.forEach(function(r){t+=0===r?" ":"@"}),t+="*\n"});for(var i=0;i<this.rows+2;i++)t+="*";document.getElementById("tetris").innerHTML=t},t.prototype.isCollision=function(r,t,i){for(var n=this.grid.deepClone(),o=0;o<r.length;o++)for(var e=0;e<r[o].length;e++){if(1===n[o+t][e+i]&&1===r[o][e])return!1;1!==n[o+t][e+i]&&(n[o+t][e+i]=r[o][e])}return this.render(n),n},t.prototype.addFigure=function(r,t,i){for(var n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)1!==this.grid[n+t][o+i]&&(this.grid[n+t][o+i]=r[n][o])},r.app=r.app||{},r.app.Grid=t}(window);